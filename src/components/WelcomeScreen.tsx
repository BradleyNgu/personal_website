import React, { useEffect, useState } from "react";

const asciiArt = `

:--===---------::::--:----:-----::::::::::..-===--:::::::...:::::::::::::::::::....:----:::-----:..:
:===-::::----:::-::::::------------::::::::-+=::.:::----::::::::::::::::::-::::...:--:--::::---:...:
==---:..:---:::--::--:::::::::-------::::-+=----::::..::::::--:--:::::::::::---:..:--:------:..:::.:
-::--:::::------:::-------:::::::::--::=======-----::.::--::--:::::::::::::::::.:---------:::::..:::
...:-::--------:::-:---------::-:::------=+=====+===-::---::::::------:::::::--------::::::::::....:
-----::-----------::---:::::----:::=+=-=++++++==+++==----------------::::-------:::--:::-::::......:
------::::::-:::----=-----:---::--:---+**#######*+*++++++++====--------::::::::::::--::::.....:::::-
----------::::----==-:---------=-----+##%%##%%%#%%#*#########*+==-----::::::::-------::::::::::..:-=
-------=--::::--===+=----::--===--=++#%%#%%%%@@%%%%%%%%%#######**+------::::::::--:::::::::::::...:-
::::---::-=--------------===-----+**#%%%%%%%%@@@@@%%%@@@@%%%%%%#**++-::----::::--::::::::::::::::::-
::::::::::-====--------------::-+####%%@%%%%%%%%%%%%#%%%%@@@@@%%#**++=::::::::::::::::::::::::::::::
------:-::--===-----------::::-=####%%@@%%######*********#%%%@%%%#**+==:.:::-::::::::::-::---:----::
--=--::::.:--:--------==------+#%%#%%@@%%%###**++++==++++**#%%%%%####++::::::::::---::-------:---:::
:::--::::::--::::-=****+===-=*#%%%%%%@%%###**++++====+==++**##%%%%####*+-:::::::---------:::::------
::::--::------=+**++=-::::-=+%%%%%%%%%%%###**++++=====+++++**##%%%%%%##*+--:-:::-:::..:::::::::::--:
-::------=+***+=-::::::::-==%%%%%%%@%%%###**+++=======+++++**###%%%%%%%#*-::::-:::::.....::--:::::::
-===-::-+**+--:::::---:-===+%#%%%%@@%####**++++=======++++++**##%%%%%%%%#--::::::::::::::::---=-::::
:::::-+**+-:::::::::-===---*%%%%@@@%%###**++++=======++++++++*###%%@%%%%%=---::::::::::::::::::-:::-
----=**=-::.::::---==-:..::#@@%%@@%%########**+++++++**#######%%%%@@@@@%%#-:::::::::::::::::::--::::
+***=::::::::-==++-::::::::-#@@@@%%####%#%%%%##**++**######*####%%@@@@@@@%-::::::::::::::::::::::::-
+=----::--=+++=-:::-::::::.:*%@@%%###******#####*++***#****###*##%@@@@@@@%+-::::::::::::::::::::::--
-::-==++++==-:::::::::::::::=@@%%#+***#%#%%%###*++++*####%%%%%###%%@@@@@@**::::::::::::::::::::::::-
==++*+=-:---:::::::::::::::::#%%#==+*++***###***+==+*************##@@@@@%#+::::::::-:::::::::::::::-
++=-:-----------:::::::::::::=*#*-====++****+++=====++++*****+++++*%@@%%#*-:::-----------::::::::::-
::::::::::---:::--:::::::::::-=*=----======++==----===+++++=====+++*%%@*=:::--::-------=--:::::::---
:::----::::::::::::::::::::::-=++------=====+==--=====++*+++===+=+++*#*-:::-==--:----::-------::::.:
----:-::::::::::::::::--::::::-==----===++**+-===+++++++****++++++==+==--------:::-:-::::--:::::::::
:::::::::::::----:::::::--:::::--=-==+++*****+*#****###********+++===-::-:--::-===-:::-----::::::::-
::.::::::::::::--:::::::::--::::--==++*#***+++****#*********#***++=-::::::::-:--=+=----:--::::::::::
::.:::::----:.:---::::--:::--::::-==+******++++++++***+++*******++=--:::::----===++===--:---------=+
.:::::------::::::::-:---:::::::::-==++**####***********#%#***++++=-=-:-----=====++++====--=+=+=---+
::::----:-::-==::-::::-----::::::::==+++***##++======++*#***++++++**#**++**++**++*++++++++++*+=----=
::::---:::::--====++-:---::--::::---==++++++++++++++****++++++**+*%%%%%%%%%#******+++++++++**+=+-:--
::------:::::::-++++=-=----::::-::--====++====+********++++++***+%@%%%%##*########*+====++*##*-:::-=
::--:::::--------+**++---:::::-----=**+=======+++*****+++++++***+%%@%###%%%%%%%##%#=::----===-:.:::-
:::::::-------===+**+=-::::-++*+*****#@%===--===++++++++==+++***+#%%%%%%%%%%%%%%%*%+:--====+-:::-::-
::-=++====+++++******+==++=*#*-:+###%@@@+==========+====+++*****%%%%%%%%%%%%%%%%%%#=-=====---==+=---
==+*%#****########*+***++++##*+*%#%@@@@@#=====++++**++++*****#%%%%%%%%%%%%%%%%%%%%%*-:::::::-==++=--
#***##**#####%%%##*++**++=*###%@%%%@@@@@@====+*******####**#%@@@%%%%%%%%%%%%%%######*-.::::::-=+==-=
**+***#***#%%####*++***+++###%@%%@@@@@@@@*===+**######****#%@@@@@%%%%%%%%%%%%########*-::::::-----==
*=---=##**#%%#**#**+****+=+*#@@#%@@@@@@@@*===++*********#%@@@@%%%%%%%%%%%%%%%#######***-:::::---:--=
+=====##***###**+====---::-*#%%%%@@@@@@@@#====++*******#%%@@%%%%%%%%%%%%%%%%########***+----::-::---
+=====*#+==------:::::::..-*#%%%%@@@@@@@@#+===+++*******%%%%@%%%%%%%%%%%%%%%%%%%%%%%%%%%#=::::::::::
=+*****=::::::::::::::::..-*#%%%%%@@@@@@%#++=++++**++*##*%%%%%%%%%%%%%%%%%%%%@@%%%%%%%#%%*:::......:
-++**+=::::::::-:::::::.:-+*##%%%%%%@@@@%**+++++++**#%%%%%%%%%%%%%%%%%%%@@@%%%%%####%%%%#=.......:::
-==++=-::::::--=-:::::-=****###%%%%%%@@@#*++++++++*##%%%%%%%%%%%%%%%@@@@%%%%%%#%%%@@@%#**+==+=-:::::
----==----:::-==-:::-+##*#%###%%%%%%%%%%*++====++*###%%%%%%%%%%%%@@@%%%%%%%%@@@@@%%%%%****+++++**+--
-----=:::::::::::::+*###%#%%%#*#%%##%%%%*=======*####%%%%%%%%%@@@%%%%%%%@@@@@@%%%%%%##%%%##****==***
------:::::::::::=*#%%%%##%%%%#%%%%%%%%%%#=-===*###%%%%%%%%@@@@@%%@@@@@%%%%%%%#%%###%#%%@@@%%#######
------:::::::::-+*##%%%%%%%%%%%%@@%%%%%%%%%%#+###%%#%%%%%@@@@@%%##%%%%%%%%#%##%%######%%%%%%%%#%%%##
--------::::::-+####%%%%%%%##%#%@@@%@@@@@@@@%#*##%%#%@@@@@@@%%###%%%%%%%##%##%#####%#**######%%%#%##
---::::-------+####%%%%######%%@@@@%%%%%@@%%######%#%@@@@@@%###%@@%%%%%%#%%#%#######%@%%#%%%%%%%%##%
:-:----------+####%%%%######%@#@@@@%%%%%%%##%%#%@@%%@@@@@%###%@@@@%%%%%#%%#%%######%%%#%%%%##%%##%%%
----------::=#%##%%%%######%%@%@@%%%%%%%%###%##%@@%%@@@@%###%@@@@%%%%%##%%%%######%%#######%%%##%%%%
------------#%%%%%%#######%%@%%%%%%%%%%%###%%#%@@@%%@@@%##%@@@@@%%%%%###%%%######%%#######%%%##%%%%%










██╗    ██╗███████╗██╗      ██████╗ ██████╗ ███╗   ███╗███████╗                                      
██║    ██║██╔════╝██║     ██╔════╝██╔═══██╗████╗ ████║██╔════╝                                      
██║ █╗ ██║█████╗  ██║     ██║     ██║   ██║██╔████╔██║█████╗                                        
██║███╗██║██╔══╝  ██║     ██║     ██║   ██║██║╚██╔╝██║██╔══╝                                        
╚███╔███╔╝███████╗███████╗╚██████╗╚██████╔╝██║ ╚═╝ ██║███████╗                                      
 ╚══╝╚══╝ ╚══════╝╚══════╝ ╚═════╝ ╚═════╝ ╚═╝     ╚═╝╚══════╝       
                                                                                                    
████████╗ ██████╗     ███╗   ███╗██╗   ██╗    ██╗    ██╗███████╗██████╗ ███████╗██╗████████╗███████╗
╚══██╔══╝██╔═══██╗    ████╗ ████║╚██╗ ██╔╝    ██║    ██║██╔════╝██╔══██╗██╔════╝██║╚══██╔══╝██╔════╝
   ██║   ██║   ██║    ██╔████╔██║ ╚████╔╝     ██║ █╗ ██║█████╗  ██████╔╝███████╗██║   ██║   █████╗  
   ██║   ██║   ██║    ██║╚██╔╝██║  ╚██╔╝      ██║███╗██║██╔══╝  ██╔══██╗╚════██║██║   ██║   ██╔══╝  
   ██║   ╚██████╔╝    ██║ ╚═╝ ██║   ██║       ╚███╔███╔╝███████╗██████╔╝███████║██║   ██║   ███████╗
   ╚═╝    ╚═════╝     ╚═╝     ╚═╝   ╚═╝        ╚══╝╚══╝ ╚══════╝╚═════╝ ╚══════╝╚═╝   ╚═╝   ╚══════╝    
`;

interface WelcomeScreenProps {
  onComplete: () => void;
}

const WelcomeScreen: React.FC<WelcomeScreenProps> = ({ onComplete }) => {
  const [lines, setLines] = useState<string[]>([]);
  const [progress, setProgress] = useState(0);

  useEffect(() => {
    let index = 0;
    const asciiLines = asciiArt.trim().split("\n").map((line) => line.trimEnd());

    const interval = setInterval(() => {
      if (index < asciiLines.length) {
        setLines((prevLines) => [...prevLines, asciiLines[index]]);
        index++;
        setProgress((prev) => Math.min(prev + (100 / asciiLines.length), 100));
      } else {
        clearInterval(interval);
        setTimeout(onComplete, 1500);
      }
    }, 40);

    return () => clearInterval(interval);
  }, [onComplete]);

  // Function to generate a dynamic progress bar
  const progressBar = () => {
    const totalLength = 50; // Fixed width for consistent size
    const filledLength = Math.round((progress / 100) * totalLength);
    const emptyLength = totalLength - filledLength;
    return `+${"#".repeat(filledLength)}${" ".repeat(emptyLength)}+`;
  };

  return (
    <div
      className="ascii-terminal"
      style={{
        width: "100vw",
        height: "100vh",
        display: "flex",
        flexDirection: "column",
        justifyContent: "center",
        alignItems: "center",
        textAlign: "center",
        backgroundColor: "black",
        color: "white",
        position: "relative",
      }}
    >
      {lines.map((line, i) => (
        <pre key={i} style={{ margin: 0, lineHeight: 1.1 }}>{line}</pre>
      ))}

      {/* Progress Bar - Always centered */}
      <div
        style={{
          position: "absolute",
          bottom: "5%", // Adjusted for better visibility
          left: "50%",
          transform: "translate(-50%, 0)", // Ensures it's always centered
          maxWidth: "90%", // Prevents overflow on smaller screens
          textAlign: "center",
          color: "white",
          fontFamily: "monospace",
          fontSize: "16px", // Ensures readability across devices
          whiteSpace: "nowrap", // Prevents line breaks in the progress bar
        }}
      >
        <pre style={{ margin: 0 }}>{progressBar()}</pre>
      </div>
    </div>
  );
};

export default WelcomeScreen;